---
layout: post
title: 数组 vs. 切片
tags: [go, 数据结构]
mermaid: false
math: false
---  

在Go编程语言中处理数据时，经常会遇到数组和切片。这两者是不同的数据结构，有各自的特性和用途。本文将对Go中的数组和切片进行比较，以帮助大家更好地理解它们。

### 1. 长度不同

一个主要的区别是长度。在Go中，数组是具有固定长度的数据结构，一旦创建，其大小不可更改。相比之下，切片具有动态大小，可以在运行时动态增长或缩小。

### 2. 声明方式

在声明时，数组需要指定其长度，例如：

```go
var arr [5]int
```

而切片的声明不需要指定长度：

```go
var slice []int
```

或者使用`make`函数初始化：

```go
slice := make([]int, 5)
```

### 3. 内存管理

另一个重要的区别是内存管理。数组是值类型，它们在栈上分配内存，当复制数组时，将创建一个完全相同的数组副本。相比之下，切片是引用类型，它们引用底层数组的一部分数据，因此多个切片可以引用相同的底层数组。切片的赋值不会复制底层数组，而是共享同一数据。

### 4. 长度和容量

切片引入了长度和容量的概念。长度表示切片当前包含的元素数量，而容量表示切片底层数组的大小，即可以包含的元素数量。切片的容量可以大于或等于其长度。

### 5. 添加和删除元素

由于数组长度固定，不能直接添加或删除元素。必须创建一个新数组并复制元素，或者使用已有的数组。切片允许使用`append`函数向切片添加元素，它会自动管理切片的长度和容量。

### 6. 传递给函数

数组通常传递数组的副本给函数，这可能会导致内存和性能开销。相反，切片是引用传递，传递切片时，传递的是底层数组的引用，而不是整个数据的副本。这对于避免内存开销和支持动态大小非常有用。

### 7. 初始化

数组可以使用数组字面值来初始化：

```go
arr := [3]int{1, 2, 3}
```

切片可以使用切片字面值或`make`函数来初始化。

### 8. 使用场景

在具体使用上，数组通常用于具有固定大小的集合，需要确定大小和固定内存开销的情况。切片则通常用于需要动态大小、灵活性和内存效率的情况。切片是Go中广泛使用的数据结构，尤其在处理集合数据时非常有用。

综上，Go中的数组和切片在功能和用途上有明显的差异，开发者需要根据具体需求选择适当的数据结构。切片通常更灵活，因此在许多情况下更受欢迎。了解它们的区别和适用场景可以帮助你更好地利用它们。

---

<div align="center">
  <img src="../img/qrcode_wechat.jpg" alt="孟斯特">
</div>

> 声明：本作品采用[署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)进行许可，使用时请注明出处。  
> Author: [mengbin](mengbin1992@outlook.com)  
> blog: [mengbin](https://mengbin.top)  
> Github: [mengbin92](https://mengbin92.github.io/)  
> cnblogs: [恋水无意](https://www.cnblogs.com/lianshuiwuyi/)  

---
